<html>
<head>
<script>
  var kv = ["routerAddr","routeType","routeTypeVal","routeBindingPort","appName"];
  var tabs = ["home","settings","dashboard","input"];

  var activeTab = "home";

  function init() {
    // clear cookies
    for (i = 0; i < kv.length; i++) {
      createCookie(kv[i],"",-1);
    }

    //clickTab(document.getElementById(activeTab));
  }

  function createCookie(name,value,days) {
    var date = new Date();
    date.setTime(date.getTime()+(days*24*60*60*1000));

    var expires = "; expires="+date.toGMTString();

    document.cookie = name+"="+value+expires+"; path=/";
  }

  function saveChanges() {
    for (i = 0; i < kv.length; i++) {
      createCookie(kv[i],document.getElementById(kv[i]).value,1);
    }

    line = document.getElementById("inputTextarea").value;
    lines = line.split("\n");
    for (var i = 0; i < lines.length; i++) {
      if (lines[i] != "") {
        url = document.getElementById('routerAddr').value + lines[i];
        document.getElementById('win1').src = url;
      }
    }
  }

  function clickTab(obj) {
    if (activeTab != obj.id) {
      activeTab = obj.id;

      for (i = 0; i < tabs.length; i++) {
        divName = tabs[i] + "Div";
        if (tabs[i] == activeTab) {
          dispVal = "inline";
	} else {
          dispVal = "none";
	}
        document.getElementById(divName).style.display = dispVal;
      }
    }
  }
</script>
</head>
<body onload="init();">

<!-- HEADER -->
<img height=40 src="/img/logo.png"/>
<p/><p/>
<div name=header>
  <span id=home onclick="clickTab(this);" onmouseover="" style="cursor: pointer;">Home</span>&nbsp;|&nbsp;
  <span id=settings onclick="clickTab(this);" onmouseover="" style="cursor: pointer;">Settings</span>&nbsp;|&nbsp;
  <span id=dashboard onclick="clickTab(this);" onmouseover="" style="cursor: pointer;">Dashboard</span>&nbsp;|&nbsp;
  <span id=input onclick="clickTab(this);" onmouseover="" style="cursor: pointer;">Input</span>
</div>
<p/><p/>

<!-- HOME TAB -->
<div id=homeDiv style="display:none;">
</div>

<!-- SETTINGS TAB -->
<div id=settingsDiv style="display:inline;">
<table border=0 cellpadding=5 cellspacing=4>
<tr><td>App Name:</td><td><input id=appName type=text value="demo"/></td></tr>
<tr><td>Router Address:</td><td><input id=routerAddr type=text value="http://localhost:8080"/></td></tr>
<tr><td>Route Type:</td><td><select id=routeType><option value="URL">URL</option><option value="ManagedContainer">Managed Container</option></td></tr>
<tr><td>Route Type Value:</td><td><input id=routeTypeVal type=text value=""/></td></tr>
<tr><td>Route Binding Port:</td><td><input id=routeBindingPort type=text value="8080"/></td></tr>
</table>
<input type=button onclick="saveChanges();" value="Save Changes"/>
<iframe id=win1 width=100 height=100></iframe>
</div>

<!-- INPUT TAB -->
<div id=inputDiv style="display:none;">
<textarea id=inputTextarea rows=4 cols=50>
/infect
</textarea>
</div>

<!-- DASHBOARD TAB -->
<div id=dashboardDiv style="display:none;">
Chart 1<p/>
Chart 2<p/>
</div>

<div id=outputDiv style="display:none;">
</div>

</body>
</html>
